{"remainingRequest":"/Users/atul/Desktop/chat-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atul/Desktop/chat-app/src/components/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atul/Desktop/chat-app/src/components/Chat.vue","mtime":1580060018014},{"path":"/Users/atul/Desktop/chat-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atul/Desktop/chat-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atul/Desktop/chat-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/atul/Desktop/chat-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atul/Desktop/chat-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOZXdNZXNzYWdlIGZyb20gIkAvY29tcG9uZW50cy9OZXdNZXNzYWdlIjsKaW1wb3J0IGRiIGZyb20gIkAvZmlyZWJhc2UvaW5pdCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2hhdCIsCiAgcHJvcHM6IFsibmFtZSJdLAogIGNvbXBvbmVudHM6IHsKICAgIE5ld01lc3NhZ2UKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXNzYWdlczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgbGV0IHJlZiA9IGRiLmNvbGxlY3Rpb24oIm1lc3NhZ2VzIikub3JkZXJCeSgidGltZXN0YW1wIik7CiAgICByZWYub25TbmFwc2hvdChzbmFwc2hvdCA9PiB7CiAgICAgIHNuYXBzaG90LmRvY0NoYW5nZXMoKS5mb3JFYWNoKGNoYW5nZSA9PiB7CiAgICAgICAgaWYgKGNoYW5nZS50eXBlID09ICJhZGRlZCIpIHsKICAgICAgICAgIGxldCBkb2MgPSBjaGFuZ2UuZG9jOwogICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGRvYy5pZCwKICAgICAgICAgICAgbmFtZTogZG9jLmRhdGEoKS5uYW1lLAogICAgICAgICAgICBjb250ZW50OiBkb2MuZGF0YSgpLmNvbnRlbnQsCiAgICAgICAgICAgIHRpbWVzdGFtcDogbW9tZW50KGRvYy5kYXRhKCkudGltZXN0YW1wKS5mb3JtYXQoImxsbCIpCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Owo="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"chat container\">\n    <h2 class=\"center blue-text\">Just Chat</h2>\n    <div class=\"card\">\n      <div class=\"card-content\">\n        <ul class=\"messages\" v-chat-scroll>\n          <li v-for=\"message in messages\" :key=\"message.id\">\n            <span class=\"blue-text\">{{ message.name }}{{ \" : \" }}</span>\n            <span class=\"grey-text text-darken-3\">{{ message.content }}</span>\n            <span class=\"grey-text time\">{{ message.timestamp }}</span>\n          </li>\n        </ul>\n      </div>\n      <div class=\"card-action\">\n        <NewMessage :name=\"name\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NewMessage from \"@/components/NewMessage\";\nimport db from \"@/firebase/init\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"Chat\",\n  props: [\"name\"],\n  components: {\n    NewMessage\n  },\n  data() {\n    return {\n      messages: []\n    };\n  },\n  created() {\n    let ref = db.collection(\"messages\").orderBy(\"timestamp\");\n    ref.onSnapshot(snapshot => {\n      snapshot.docChanges().forEach(change => {\n        if (change.type == \"added\") {\n          let doc = change.doc;\n          this.messages.push({\n            id: doc.id,\n            name: doc.data().name,\n            content: doc.data().content,\n            timestamp: moment(doc.data().timestamp).format(\"lll\")\n          });\n        }\n      });\n    });\n  }\n};\n</script>\n\n<style>\n.chat h2 {\n  font-size: 2.6em;\n  margin-bottom: 40px;\n}\n.chat span {\n  font-size: 1.4em;\n}\n.chat .time {\n  display: block;\n  font-size: 0.9em;\n}\n.messages {\n  max-height: 300px;\n  overflow: auto;\n}\n\n.messages::-webkit-scrollbar {\n  widows: 3px;\n}\n\n.messages::-webkit-scrollbar-track {\n  background: #ddd;\n}\n\n.messages::-webkit-slider-thumb {\n  background: #aaa;\n}\n</style>\n"]}]}